<template>
  <div class="py-[34px] px-[30px] h-full flex flex-col border border-[#AD7084] border-solid rounded-[20px]">

    <div class="mb-[20px] flex justify-between items-center">
      <h2 class="text-[#EBE4DF] text-[20px] font-extrabold leading-normal">Zahra Ahmed</h2>
      <p
        class="px-[12px] h-[30px] flex items-center justify-center gap-[6px] rounded-[100px] bg-[#EBE4DF] text-[#373A42] text-[14px] font-[350] leading-normal ">
        Available Points<span class="text-[#A0576F] font-bold">1987 pts</span>
      </p>
    </div>



    <div class="flex gap-[35px]">



      <div class="flex-1">

        <FlipCard>
          <template #front>
            <div class="relative">
              <img class="w-full" src="/public/assets/img/card.png" alt="">
              <div class="absolute inset-0 px-[16px] py-[20px] flex flex-col justify-between">
                <div>
                  <div class="flex justify-between mb-[12px]">
                    <p class="text-white text-end text-[16px] font-bold leading-normal">Regular</p>
                    <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 19 19" fill="none">
                      <path
                        d="M9.38303 0.131348C7.61263 0.131348 5.88198 0.656707 4.40994 1.64099C2.9379 2.62527 1.79059 4.02427 1.11308 5.66108C0.43558 7.29788 0.258314 9.09898 0.603703 10.8366C0.949092 12.5742 1.80162 14.1703 3.05349 15.4231C4.30535 16.6758 5.90033 17.529 7.63671 17.8746C9.3731 18.2202 11.1729 18.0429 12.8086 17.3649C14.4442 16.6869 15.8422 15.5387 16.8258 14.0657C17.8094 12.5926 18.3344 10.8607 18.3344 9.08904C18.3344 7.9127 18.1028 6.74788 17.653 5.66108C17.2031 4.57428 16.5438 3.58679 15.7126 2.75499C14.8814 1.9232 13.8946 1.26338 12.8086 0.813211C11.7225 0.363045 10.5585 0.131348 9.38303 0.131348V0.131348ZM9.23384 2.76889C9.42183 2.75847 9.60992 2.78749 9.78604 2.8541C9.96216 2.92071 10.1224 3.02343 10.2565 3.15567C10.3906 3.28791 10.4956 3.44674 10.5648 3.62198C10.634 3.79723 10.6657 3.985 10.6581 4.17326C10.673 4.36428 10.6464 4.55627 10.5802 4.73603C10.5139 4.91578 10.4095 5.07904 10.2741 5.21457C10.1388 5.3501 9.97574 5.45469 9.79616 5.52114C9.61657 5.5876 9.42474 5.61433 9.23384 5.59952C9.04373 5.611 8.85334 5.58197 8.67528 5.51434C8.49721 5.44671 8.33552 5.34203 8.20089 5.20721C8.06627 5.0724 7.96177 4.91052 7.89431 4.73228C7.82686 4.55404 7.79798 4.3635 7.80959 4.17326C7.80195 3.985 7.83373 3.79723 7.90288 3.62198C7.97204 3.44674 8.07704 3.28791 8.21115 3.15567C8.34527 3.02343 8.50552 2.92071 8.68164 2.8541C8.85776 2.78749 9.04585 2.75847 9.23384 2.76889V2.76889ZM11.8695 14.0655C11.8695 14.1975 11.8171 14.3241 11.7239 14.4174C11.6306 14.5108 11.5041 14.5632 11.3722 14.5632H7.39385C7.26196 14.5632 7.13547 14.5108 7.04221 14.4174C6.94894 14.3241 6.89655 14.1975 6.89655 14.0655V13.0702C6.89655 12.9383 6.94894 12.8117 7.04221 12.7183C7.13547 12.625 7.26196 12.5726 7.39385 12.5726H8.38844V8.59139H7.39385C7.26196 8.59139 7.13547 8.53896 7.04221 8.44563C6.94894 8.3523 6.89655 8.22572 6.89655 8.09374V7.09844C6.89655 6.96646 6.94894 6.83988 7.04221 6.74655C7.13547 6.65322 7.26196 6.60079 7.39385 6.60079H9.88033C10.0122 6.60079 10.1387 6.65322 10.232 6.74655C10.3252 6.83988 10.3776 6.96646 10.3776 7.09844V12.5726H11.3722C11.5041 12.5726 11.6306 12.625 11.7239 12.7183C11.8171 12.8117 11.8695 12.9383 11.8695 13.0702V14.0655Z"
                        fill="white" />
                    </svg>
                  </div>
                  <div class="flex justify-between w-[57%]">
                    <span class="text-white text-[16px] font-normal leading-normal">Redeem Points</span>
                    <span class="text-white text-[16px] font-bold leading-normal">800 Pts</span>
                  </div>

                  <div class="flex justify-between w-[57%]">
                    <span class="text-white text-[16px] font-normal leading-normal">Expired Points</span>
                    <span class="text-white text-[16px] font-bold leading-normal">400 Pts</span>
                  </div>
                </div>

                <div>
                  <div class="flex justify-between">
                    <span class="text-white text-[16px] font-bold leading-normal">12560 Points</span>
                    <span class="text-white text-[16px] font-bold leading-normal">251.2 SAR</span>
                  </div>

                  <div class="mt-[3px] mb-[7px]">
                    <UProgress v-model="progressvalue" :ui="{
                      slots: {
                        indicator: 'bg-green-500 h-full rounded'
                      }
                    }" />
                  </div>


                  <div class="flex justify-between">
                    <span class="text-white text-[16px] font-normal leading-normal">500 points till your next
                      level</span>
                    <span class="text-white text-[16px] font-normal leading-normal">Level 3</span>
                  </div>
                </div>
              </div>
            </div>
          </template>

          <template #back>
            <div class="relative">
              <img class="w-full" src="/public/assets/img/card.png" alt="">
              <div class="absolute inset-0 px-[16px] py-[50px] flex flex-col justify-between">
                <div class="absolute inset-[17px] start-auto">
                  <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 19 19" fill="none">
                    <path
                      d="M9.38303 0.131348C7.61263 0.131348 5.88198 0.656707 4.40994 1.64099C2.9379 2.62527 1.79059 4.02427 1.11308 5.66108C0.43558 7.29788 0.258314 9.09898 0.603703 10.8366C0.949092 12.5742 1.80162 14.1703 3.05349 15.4231C4.30535 16.6758 5.90033 17.529 7.63671 17.8746C9.3731 18.2202 11.1729 18.0429 12.8086 17.3649C14.4442 16.6869 15.8422 15.5387 16.8258 14.0657C17.8094 12.5926 18.3344 10.8607 18.3344 9.08904C18.3344 7.9127 18.1028 6.74788 17.653 5.66108C17.2031 4.57428 16.5438 3.58679 15.7126 2.75499C14.8814 1.9232 13.8946 1.26338 12.8086 0.813211C11.7225 0.363045 10.5585 0.131348 9.38303 0.131348V0.131348ZM9.23384 2.76889C9.42183 2.75847 9.60992 2.78749 9.78604 2.8541C9.96216 2.92071 10.1224 3.02343 10.2565 3.15567C10.3906 3.28791 10.4956 3.44674 10.5648 3.62198C10.634 3.79723 10.6657 3.985 10.6581 4.17326C10.673 4.36428 10.6464 4.55627 10.5802 4.73603C10.5139 4.91578 10.4095 5.07904 10.2741 5.21457C10.1388 5.3501 9.97574 5.45469 9.79616 5.52114C9.61657 5.5876 9.42474 5.61433 9.23384 5.59952C9.04373 5.611 8.85334 5.58197 8.67528 5.51434C8.49721 5.44671 8.33552 5.34203 8.20089 5.20721C8.06627 5.0724 7.96177 4.91052 7.89431 4.73228C7.82686 4.55404 7.79798 4.3635 7.80959 4.17326C7.80195 3.985 7.83373 3.79723 7.90288 3.62198C7.97204 3.44674 8.07704 3.28791 8.21115 3.15567C8.34527 3.02343 8.50552 2.92071 8.68164 2.8541C8.85776 2.78749 9.04585 2.75847 9.23384 2.76889V2.76889ZM11.8695 14.0655C11.8695 14.1975 11.8171 14.3241 11.7239 14.4174C11.6306 14.5108 11.5041 14.5632 11.3722 14.5632H7.39385C7.26196 14.5632 7.13547 14.5108 7.04221 14.4174C6.94894 14.3241 6.89655 14.1975 6.89655 14.0655V13.0702C6.89655 12.9383 6.94894 12.8117 7.04221 12.7183C7.13547 12.625 7.26196 12.5726 7.39385 12.5726H8.38844V8.59139H7.39385C7.26196 8.59139 7.13547 8.53896 7.04221 8.44563C6.94894 8.3523 6.89655 8.22572 6.89655 8.09374V7.09844C6.89655 6.96646 6.94894 6.83988 7.04221 6.74655C7.13547 6.65322 7.26196 6.60079 7.39385 6.60079H9.88033C10.0122 6.60079 10.1387 6.65322 10.232 6.74655C10.3252 6.83988 10.3776 6.96646 10.3776 7.09844V12.5726H11.3722C11.5041 12.5726 11.6306 12.625 11.7239 12.7183C11.8171 12.8117 11.8695 12.9383 11.8695 13.0702V14.0655Z"
                      fill="white" />
                  </svg>
                </div>

                <p class="text-white text-[16px] font-bold leading-normal">Points Scheme</p>
                <p class="text-white text-[16px] font-[500] leading-normal">Spend 1 SAR Earn 1 Point</p>
                <p class="text-white text-[16px] font-[500] leading-normal">Redeem 100 Points Get 2 SAR</p>


              </div>
            </div>
          </template>
        </FlipCard>

        <UButton @click="modalOpen = true"
          class="rounded-[100px] border border-[#EBE4DF] bg-transparent hover:bg-[#913E5D] disabled:bg-transparent aria-disabled:bg-transparent text-[#EBE4DF] text-[15px] font-[400] leading-normal w-full h-[60px] justify-center mt-[30px]"
          icon="i-lucide-info">Explore the Loyalty Program</UButton>

        <div class="mt-[30px]">
          <div>
            <p class="text-start text-[18px] font-[500] text-white mb-3">
              Transfer Points
            </p>
            <div class="flex items-center gap-[10px] border border-[#EBE4DF] rounded-[13px] px-[23px] bg-transparent">
              <label for="transfer-points"></label>
              <input placeholder="Minimum 200 points." id="transfer-points"
                class="flex-1 outline-none bg-transparent text-[#BBCACF] placeholder:text-[#D3C9C5] text-[14px] h-[50px]"
                type="text" />
            </div>
            <p class="text-[#C6C6C7] text-[14px] font-[350] leading-normal mt-[6px]">Maximum amount of points to be
              transferred is 1000 pts</p>
          </div>
        </div>

        <div class="mt-[30px]">
          <p class="text-start text-[18px] font-[500] text-white mb-3">
            Transfer To
          </p>
          <div
            class="flex rounded-[14px] border-[1.2px] border-[#EBE4DF] px-[18px] py-[10px] text-[16.76px] font-normal leading-[31px] h-[50px] tracking-[2.61px] text-[#BBCACF]">
            <div class="flex items-center gap-2">
              <img src="/assets/img/sa-flag.svg" alt="saudi-flag" class="w-[35px] h-[23px]" />
              <span class="text-[#BBCACF] font-medium text-[14px]">+966</span>
            </div>
            <div class="mx-[18px] border-l border-[#BBCACF]"></div>
            <input type="text" placeholder="50 XXXX XXXX"
              class="flex-1 outline-none bg-transparent text-[#BBCACF] placeholder:text-[#D3C9C5] text-[14px]" />
          </div>
        </div>
        <UButton
          class="flex h-[50px] w-full justify-center items-center self-stretch rounded-[100px] bg-[#EBE4DF] text-[#A0576F] text-[16px] font-normal leading-normal mt-[30px]">
          Transfer
        </UButton>
      </div>

      <div class="flex-1 rounded-[16px] border border-[#AD7084] px-[14px] py-[16px]">
        <h2 class="text-[#EBE4DF] text-[18px] font-normal leading-normal text-center [mb-10px]">Recent Transactions</h2>

        <div class="mb-[12px] pb-[7px] border-b border-b-[#B29E791A]">
          <div class="flex justify-between items-end">
            <div>
              <p class="text-[#EBE4DF] text-[14px] font-[350] leading-normal mb-[5px]">08/06/2024</p>
              <div class="flex gap-[5px] items-center">
                <img src="/public/assets/img/earned.svg" alt="">
                <span class="text-[#EBE4DF] text-[14px] font-[350] leading-normal">Earned</span>
              </div>
            </div>
            <div>
              <p class="text-[#44BB94] text-end text-[14px] font-[350] leading-normal">240 Pts</p>
              <p class="text-[#EBE4DF] text-[12px] font-[350] leading-normal">Available till 17/09/2024 | 12:00 AM</p>
            </div>
          </div>
        </div>

        <div class="mb-[12px] pb-[7px] border-b border-b-[#B29E791A]">
          <div class="flex justify-between items-end">
            <div>
              <p class="text-[#EBE4DF] text-[14px] font-[350] leading-normal mb-[5px]">08/06/2024</p>
              <div class="flex gap-[5px] items-center">
                <img src="/public/assets/img/earned.svg" alt="">
                <span class="text-[#EBE4DF] text-[14px] font-[350] leading-normal">Earned</span>
              </div>
            </div>
            <div>
              <p class="text-[#44BB94] text-end text-[14px] font-[350] leading-normal">240 Pts</p>
              <p class="text-[#EBE4DF] text-[12px] font-[350] leading-normal">Available till 17/09/2024 | 12:00 AM</p>
            </div>
          </div>
        </div>

        <div class="mb-[12px] pb-[7px] border-b border-b-[#B29E791A]">
          <div class="flex justify-between items-end">
            <div>
              <p class="text-[#EBE4DF] text-[14px] font-[350] leading-normal mb-[5px]">08/06/2024</p>
              <div class="flex gap-[5px] items-center">
                <img src="/public/assets/img/earned.svg" alt="">
                <span class="text-[#EBE4DF] text-[14px] font-[350] leading-normal">Earned</span>
              </div>
            </div>
            <div>
              <p class="text-[#44BB94] text-end text-[14px] font-[350] leading-normal">240 Pts</p>
              <p class="text-[#EBE4DF] text-[12px] font-[350] leading-normal">Available till 17/09/2024 | 12:00 AM</p>
            </div>
          </div>
        </div>

        <div class="mb-[12px] pb-[7px] border-b border-b-[#B29E791A]">
          <div class="flex justify-between items-end">
            <div>
              <p class="text-[#EBE4DF] text-[14px] font-[350] leading-normal mb-[5px]">08/06/2024</p>
              <div class="flex gap-[5px] items-center">
                <img src="/public/assets/img/earned.svg" alt="">
                <span class="text-[#EBE4DF] text-[14px] font-[350] leading-normal">Earned</span>
              </div>
            </div>
            <div>
              <p class="text-[#44BB94] text-end text-[14px] font-[350] leading-normal">240 Pts</p>
              <p class="text-[#EBE4DF] text-[12px] font-[350] leading-normal">Available till 17/09/2024 | 12:00 AM</p>
            </div>
          </div>
        </div>

        <div class="mb-[12px] pb-[7px] border-b border-b-[#B29E791A]">
          <div class="flex justify-between items-end">
            <div>
              <p class="text-[#EBE4DF] text-[14px] font-[350] leading-normal mb-[5px]">08/06/2024</p>
              <div class="flex gap-[5px] items-center">
                <img src="/public/assets/img/earned.svg" alt="">
                <span class="text-[#EBE4DF] text-[14px] font-[350] leading-normal">Earned</span>
              </div>
            </div>
            <div>
              <p class="text-[#44BB94] text-end text-[14px] font-[350] leading-normal">240 Pts</p>
              <p class="text-[#EBE4DF] text-[12px] font-[350] leading-normal">Available till 17/09/2024 | 12:00 AM</p>
            </div>
          </div>
        </div>


      </div>
    </div>
  </div>
  <Dialog v-model:open="modalOpen" :modalMaxWidth="'max-w-[490px]'">
    <template #body>
      <div class="px-[67px] py-[30px] relative">
        <h2 class="text-[#A0576F] text-center text-[23px] font-bold leading-normal mb-[30px]">Points Scheme</h2>
        <div class="px-[10px] py-[20px] rounded-[16px] bg-[#A0576F] flex flex-col justify-between gap-[25px]">
          <p class="text-[#EBE4DF] text-center text-[16px] font-[350]">Order more to get more points
            and automatically moved into next level.</p>
          <p class="text-[#EBE4DF] text-center text-[16px] font-[350] ">More rewards & discounts are waiting for you!
          </p>
        </div>

        <div class="mt-[30px] overflow-y-auto max-h-[45vh]">

          <div v-for="(level, index) in loyaltyLevels" :key="index" class=" border-b border-dashed border-b-[#A0576F80] pb-[8px] pt-[17px]">
            <div class="flex">
              <div class="flex-1">
                <img :src="level.image" alt="">
              </div>
              <div class="flex-4">
                <h4 class="text-[#A0576F] text-[16px] font-bold leading-normal">{{ level.name }}</h4>
                <p class="text-[#A0576F] text-[16px] font-[400] leading-normal">{{ level.description }}</p>
              </div>
            </div>

            <UCollapsible v-model:open="level.open" class="flex flex-col gap-2">
              <UButton
                class="more-btn bg-transparent hover:bg-transparent text-[#BBCACF] hover:text-[#A0576F] text-[16px] font-normal leading-normal capitalize w-full justify-center p-0 mt-[16px] cursor-pointer">
                <span>{{ level.open ? 'Show Less' : 'Read More' }}</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="9" viewBox="0 0 22 9" fill="none">
                  <path d="M20.3871 1.00016L12.4071 7.52016C11.4646 8.29016 9.92248 8.29016 8.98005 7.52016L1 1.00016"
                    stroke="#BBCACF" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </UButton>

              <template #content>
                <p class="text-[#AD7084] text-[14px] font-[300]">
                  {{ level.details }}
                </p>
              </template>
            </UCollapsible>
          </div>

        </div>

      </div>


    </template>
  </Dialog>
</template>

<script setup>
import { ref } from "vue";
import FlipCard from "./FlipCard.vue";
import Dialog from '@/components/base/Dialog.vue';
const progressvalue = ref(50)
const modalOpen = ref(false)


const loyaltyLevels = ref([
  {
    name: "Regular",
    image: "/assets/img/point-schema.png",
    description: "Enjoy 2.5% discount on your next 10 orders.",
    details: "Lorem ipsum dolor sit, amet consectetur adipisicing elit. Natus mollitia quis sed. Doloribus, ipsum voluptas labore saepe enim ullam ad earum officiis quibusdam quidem iste dignissimos, velit adipisci, veniam illum.",
    open: false
  },
  {
    name: "Silver",
    image: "/assets/img/point-schema.png",
    description: "Get free shipping on all orders this month.",
    details: "Lorem ipsum dolor sit, amet consectetur adipisicing elit. Natus mollitia quis sed. Doloribus, ipsum voluptas labore saepe enim ullam ad earum officiis quibusdam quidem iste dignissimos, velit adipisci, veniam illum.",
    open: false
  },
  {
    name: "Gold",
    image: "/assets/img/point-schema.png",
    description: "Access exclusive discounts and offers.",
    details: "Lorem ipsum dolor sit, amet consectetur adipisicing elit. Natus mollitia quis sed. Doloribus, ipsum voluptas labore saepe enim ullam ad earum officiis quibusdam quidem iste dignissimos, velit adipisci, veniam illum.",
    open: false
  },
  {
    name: "Platinum",
    image: "/assets/img/point-schema.png",
    description: "Dedicated support and premium rewards.",
    details: "Lorem ipsum dolor sit, amet consectetur adipisicing elit. Natus mollitia quis sed. Doloribus, ipsum voluptas labore saepe enim ullam ad earum officiis quibusdam quidem iste dignissimos, velit adipisci, veniam illum.",
    open: false
  },
  {
    name: "Diamond",
    image: "/assets/img/point-schema.png",
    description: "Enjoy 10% discount on all services.",
    details: "Lorem ipsum dolor sit, amet consectetur adipisicing elit. Natus mollitia quis sed. Doloribus, ipsum voluptas labore saepe enim ullam ad earum officiis quibusdam quidem iste dignissimos, velit adipisci, veniam illum.",
    open: false
  }
])




</script>

<style>
.more-btn:hover svg path {
  stroke: #A0576F !important;
}
</style>
